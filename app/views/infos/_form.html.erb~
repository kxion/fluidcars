<div class='row'>
  <div class='span4 offset4'>
    <%= form_for @info, html:{:class => "form-horizontal"} do |f| %>
      <% if @info.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(@info.errors.count, "error") %> prohibited this info from being saved:</h2>
          <ul>
          <% @info.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
          </ul>
        </div>
      <% end %>
      <div class="control-group">
        <%= f.label :description, :class=>"control-label" %>
        <div class="controls">
          <%= f.text_area :description, :rows => 5,:placeholder=>"description" %>
        </div>
      </div>
      <div class="control-group">
        <%= f.label :price, :class=>"control-label" %>
        <div class="controls input-append input-prepend"> 
          <span class="add-on">&#65509;</span>     
          <%= f.number_field :price, :placeholder=>"price" %>
          <span class="add-on">rmb</span>
        </div>
      </div>
      <div class="control-group">
        <%= f.label :city, :class=>"control-label" %>
        <div class="controls">
          <%= f.select :city, options_for_select(%w{ 北京市 上海市 沈阳市 合肥市}), :prompt => '选择您所在的城市' %>
        </div>
      </div>
      <div class="control-group">
        <%= f.label :location, :class=>"control-label" %>
        <div class="controls input-prepend">
          <span class="add-on"><i class="icon-map-marker"></i></span>
          <%= f.text_field :location, :placeholder=>"location" %>
        </div>
      </div>
      <div class="control-group">
        <%= f.label :rent_start, :class=>"control-label" %>
        <div class="controls input-append date" id="rent_start">
          <%= f.text_field :rent_start %>
          <span class="add-on"><i class="icon-calendar"></i></span>
        </div>
      </div>
      <div class="control-group">
        <%= f.label :rent_end, :class=>"control-label" %>
        <div class="controls input-append date" id="rent_end">
          <%= f.text_field :rent_end %>
          <span class="add-on"><i class="icon-calendar"></i></span>
        </div>
      </div>
      <div class="control-group">
        <%= f.label :avatar, 'Upload your picture', :class=>"control-label" %>
        <div class="controls input-prepend">
          <span class="add-on"><i class="icon-picture"></i></span>
          <%= f.file_field :avatar, :class => 'input' %>
          <%= f.hidden_field :avatar_cache %>
        </div>
      </div>
      <% if @info.avatar? %>
        <div class="thumbnail">
          <%= image_tag(@info.avatar_url)  %>
        </div>
      <% end %>
      <div class="actions">
        <%= f.submit "Rent my car",:class => "btn btn-primary"%>
      </div>
    <% end %>
  </div>
</div>
<select>
<optgroup label="Europe">
  <option value="Denmark">Denmark</option>
  <option value="Germany">Germany</option>
  <option value="France">France</option>
</optgroup>
<optgroup label="China">
  <option value="Denmark">Denmark</option>
  <option value="Germany">Germany</option>
  <option value="France">France</option>
</optgroup>
</select>
<!-- datetime picker -->
<script type="text/javascript">
  function UTCDate(){
    return new Date(Date.UTC.apply(Date, arguments));
  }
  function UTCToday(){
    var today = new Date();
    return UTCDate(today.getUTCFullYear(), today.getUTCMonth(), today.getUTCDate());
  }
  $("#rent_start").datepicker({
  format: "yyyy-MM-dd",
  startDate: UTCToday(),
  autoclose: true,
  todayBtn: true,
  language: "chs"
  });
  $("#rent_end").datepicker({
  format: "yyyy-MM-dd",
  startDate: $("#rent_start").datepicker('getDate'),
  autoclose: true,
  todayBtn: true,
  language: "chs"
  });
  // var startDate = new Date(2012,1,20);
  // var endDate = new Date(2012,1,25);
  // $('#rent-start')
  //     .datepicker({
  //       format: "yyyy-MM-dd",
  //       startDate: UTCToday(),
  //       autoclose: true,
  //       todayBtn: true,
  //       language: "chs"
  //       }).on('changeDate', function(ev){
  //         if (ev.date.valueOf() > endDate.valueOf()){
  //             $('#alert').show().find('strong').text('The start date must be before the end date.');
  //         } else {
  //             $('#alert').hide();
  //             startDate = new Date(ev.date);
  //             $('#rent_start-display').text($('#rent_start').data('date'));
  //         }
  //         $('#rent_start').datepicker('hide');
  //     });
  // $('#rent_end')
  //     .datepicker()
  //     .on('changeDate', function(ev){
  //         if (ev.date.valueOf() < startDate.valueOf()){
  //             $('#alert').show().find('strong').text('The end date must be after the start date.');
  //         } else {
  //             $('#alert').hide();
  //             endDate = new Date(ev.date);
  //             $('#rent_end-display').text($('#rent_end').data('date'));
  //         }
  //         $('#rent_end').datepicker('hide');
  //     });
</script>
